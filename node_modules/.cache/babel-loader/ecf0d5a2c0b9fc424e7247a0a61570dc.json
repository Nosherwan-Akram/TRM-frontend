{"ast":null,"code":"var _jsxFileName = \"/home/noshu/react/test1/src/components/authentication.js\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport React from \"react\";\nexport const UserRoute = ({\n  children,\n  ...rest\n}) => {\n  let token = getToken();\n  let role = getRole();\n  let path = role === \"admin\" ? \"/admin\" : \"/login\";\n  return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: ({\n      location\n    }) => {\n      return token && role === \"user\" ? children : /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: path,\n          state: {\n            from: location\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 11\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 5\n    }\n  }));\n};\nexport const GuestRoute = ({\n  children,\n  ...rest\n}) => {\n  let token = getToken();\n  return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: ({\n      location\n    }) => {\n      return token ? /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/\",\n          state: {\n            from: location\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }\n      }) : children;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }));\n};\nexport const AdminRoute = ({\n  children,\n  ...rest\n}) => {\n  let token = getToken();\n  let role = getRole();\n  let path = role === \"user\" ? \"/user\" : \"/login\";\n  return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: ({\n      location\n    }) => {\n      return token && role === \"admin\" ? children : /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: path,\n          state: {\n            from: location\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }));\n};\nexport const getToken = () => {\n  return localStorage.getItem(\"token\") ? localStorage.getItem(\"token\") : null;\n};\nexport const getRole = () => {\n  return localStorage.getItem(\"role\") ? localStorage.getItem(\"role\") : null;\n};","map":{"version":3,"sources":["/home/noshu/react/test1/src/components/authentication.js"],"names":["Route","Redirect","React","UserRoute","children","rest","token","getToken","role","getRole","path","location","pathname","state","from","GuestRoute","AdminRoute","localStorage","getItem"],"mappings":";AAAA,SAASA,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAY,KAAGC;AAAf,CAAD,KAA2B;AAClD,MAAIC,KAAK,GAAGC,QAAQ,EAApB;AACA,MAAIC,IAAI,GAAGC,OAAO,EAAlB;AACA,MAAIC,IAAI,GAAGF,IAAI,KAAK,OAAT,GAAmB,QAAnB,GAA8B,QAAzC;AACA,sBACE,oBAAC,KAAD,oBACMH,IADN;AAEE,IAAA,MAAM,EAAE,CAAC;AAAEM,MAAAA;AAAF,KAAD,KAAkB;AACxB,aAAOL,KAAK,IAAIE,IAAI,KAAK,MAAlB,GACLJ,QADK,gBAGL,oBAAC,QAAD;AACE,QAAA,EAAE,EAAE;AACFQ,UAAAA,QAAQ,EAAEF,IADR;AAEFG,UAAAA,KAAK,EAAE;AAAEC,YAAAA,IAAI,EAAEH;AAAR;AAFL,SADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF;AAUD,KAbH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF;AAiBD,CArBM;AAuBP,OAAO,MAAMI,UAAU,GAAG,CAAC;AAAEX,EAAAA,QAAF;AAAY,KAAGC;AAAf,CAAD,KAA2B;AACnD,MAAIC,KAAK,GAAGC,QAAQ,EAApB;AACA,sBACE,oBAAC,KAAD,oBACMF,IADN;AAEE,IAAA,MAAM,EAAE,CAAC;AAAEM,MAAAA;AAAF,KAAD,KAAkB;AACxB,aAAOL,KAAK,gBACV,oBAAC,QAAD;AACE,QAAA,EAAE,EAAE;AACFM,UAAAA,QAAQ,EAAE,GADR;AAEFC,UAAAA,KAAK,EAAE;AAAEC,YAAAA,IAAI,EAAEH;AAAR;AAFL,SADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADU,GAQVP,QARF;AAUD,KAbH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF;AAiBD,CAnBM;AAoBP,OAAO,MAAMY,UAAU,GAAG,CAAC;AAAEZ,EAAAA,QAAF;AAAY,KAAGC;AAAf,CAAD,KAA2B;AACnD,MAAIC,KAAK,GAAGC,QAAQ,EAApB;AACA,MAAIC,IAAI,GAAGC,OAAO,EAAlB;AACA,MAAIC,IAAI,GAAGF,IAAI,KAAK,MAAT,GAAkB,OAAlB,GAA4B,QAAvC;AACA,sBACE,oBAAC,KAAD,oBACMH,IADN;AAEE,IAAA,MAAM,EAAE,CAAC;AAAEM,MAAAA;AAAF,KAAD,KAAkB;AACxB,aAAOL,KAAK,IAAIE,IAAI,KAAK,OAAlB,GACLJ,QADK,gBAGL,oBAAC,QAAD;AACE,QAAA,EAAE,EAAE;AACFQ,UAAAA,QAAQ,EAAEF,IADR;AAEFG,UAAAA,KAAK,EAAE;AAAEC,YAAAA,IAAI,EAAEH;AAAR;AAFL,SADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF;AAUD,KAbH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF;AAiBD,CArBM;AAsBP,OAAO,MAAMJ,QAAQ,GAAG,MAAM;AAC5B,SAAOU,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAgCD,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAhC,GAAgE,IAAvE;AACD,CAFM;AAIP,OAAO,MAAMT,OAAO,GAAG,MAAM;AAC3B,SAAOQ,YAAY,CAACC,OAAb,CAAqB,MAArB,IAA+BD,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA/B,GAA8D,IAArE;AACD,CAFM","sourcesContent":["import { Route, Redirect } from \"react-router-dom\";\nimport React from \"react\";\nexport const UserRoute = ({ children, ...rest }) => {\n  let token = getToken();\n  let role = getRole();\n  let path = role === \"admin\" ? \"/admin\" : \"/login\";\n  return (\n    <Route\n      {...rest}\n      render={({ location }) => {\n        return token && role === \"user\" ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: path,\n              state: { from: location },\n            }}\n          />\n        );\n      }}\n    />\n  );\n};\n\nexport const GuestRoute = ({ children, ...rest }) => {\n  let token = getToken();\n  return (\n    <Route\n      {...rest}\n      render={({ location }) => {\n        return token ? (\n          <Redirect\n            to={{\n              pathname: \"/\",\n              state: { from: location },\n            }}\n          />\n        ) : (\n          children\n        );\n      }}\n    />\n  );\n};\nexport const AdminRoute = ({ children, ...rest }) => {\n  let token = getToken();\n  let role = getRole();\n  let path = role === \"user\" ? \"/user\" : \"/login\";\n  return (\n    <Route\n      {...rest}\n      render={({ location }) => {\n        return token && role === \"admin\" ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: path,\n              state: { from: location },\n            }}\n          />\n        );\n      }}\n    />\n  );\n};\nexport const getToken = () => {\n  return localStorage.getItem(\"token\") ? localStorage.getItem(\"token\") : null;\n};\n\nexport const getRole = () => {\n  return localStorage.getItem(\"role\") ? localStorage.getItem(\"role\") : null;\n};\n"]},"metadata":{},"sourceType":"module"}