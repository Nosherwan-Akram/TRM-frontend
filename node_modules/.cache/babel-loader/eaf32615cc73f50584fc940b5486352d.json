{"ast":null,"code":"var _jsxFileName = \"/home/noshu/react/test1/src/components/authentication.js\";\nimport { Route, Redirect } from 'react-router-dom';\nimport React from 'react';\nexport const UserRoute = ({\n  children,\n  ...rest\n}) => {\n  let token = getToken();\n  let role = getRole();\n  let path = role === 'admin' ? '/admin' : '/login';\n  return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: ({\n      location\n    }) => {\n      return token && role === 'user' ? children : /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: path,\n          state: {\n            from: location\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 12,\n          columnNumber: 61\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 9\n    }\n  }));\n};\nexport const GuestRoute = ({\n  children,\n  ...rest\n}) => {\n  let token = getToken();\n  return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: ({\n      location\n    }) => {\n      return token ? /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: '/user/searchRride',\n          state: {\n            from: location\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 36\n        }\n      }) : children;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }));\n};\nexport const AdminRoute = ({\n  children,\n  ...rest\n}) => {\n  let token = getToken();\n  let role = getRole();\n  let path = role === 'user' ? '/user' : '/login';\n  return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: ({\n      location\n    }) => {\n      return token && role === 'admin' ? children : /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: path,\n          state: {\n            from: location\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 67\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }));\n};\nexport const getToken = () => {\n  return localStorage.getItem('token') ? localStorage.getItem('token') : null;\n};\nexport const getRole = () => {\n  return localStorage.getItem('role') ? localStorage.getItem('role') : null;\n};","map":{"version":3,"sources":["/home/noshu/react/test1/src/components/authentication.js"],"names":["Route","Redirect","React","UserRoute","children","rest","token","getToken","role","getRole","path","location","pathname","state","from","GuestRoute","AdminRoute","localStorage","getItem"],"mappings":";AAAA,SAAQA,KAAR,EAAcC,QAAd,QAA6B,kBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,SAAS,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAU,KAAGC;AAAb,CAAD,KAAuB;AAC5C,MAAIC,KAAK,GAAGC,QAAQ,EAApB;AACA,MAAIC,IAAI,GAAIC,OAAO,EAAnB;AACA,MAAIC,IAAI,GAAIF,IAAI,KAAG,OAAP,GAAiB,QAAjB,GAA0B,QAAtC;AACA,sBACI,oBAAC,KAAD,oBACIH,IADJ;AAEA,IAAA,MAAM,EACF,CAAC;AAACM,MAAAA;AAAD,KAAD,KAAc;AACV,aAAOL,KAAK,IAAKE,IAAI,KAAG,MAAjB,GAA2BJ,QAA3B,gBAAqC,oBAAC,QAAD;AAC5C,QAAA,EAAE,EAAE;AACFQ,UAAAA,QAAQ,EAAEF,IADR;AAEFG,UAAAA,KAAK,EAAE;AAAEC,YAAAA,IAAI,EAAEH;AAAR;AAFL,SADwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA5C;AAKH,KATL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADJ;AAcH,CAlBM;AAoBP,OAAO,MAAMI,UAAU,GAAG,CAAC;AAACX,EAAAA,QAAD;AAAU,KAAGC;AAAb,CAAD,KAAuB;AAC7C,MAAIC,KAAK,GAAGC,QAAQ,EAApB;AACA,sBACI,oBAAC,KAAD,oBACQF,IADR;AAEI,IAAA,MAAM,EACF,CAAC;AAACM,MAAAA;AAAD,KAAD,KAAc;AACV,aAAOL,KAAK,gBAAG,oBAAC,QAAD;AACX,QAAA,EAAE,EAAI;AACFM,UAAAA,QAAQ,EAAC,mBADP;AAEFC,UAAAA,KAAK,EAAC;AAACC,YAAAA,IAAI,EAACH;AAAN;AAFJ,SADK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAH,GAKRP,QALJ;AAMH,KAVT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADJ;AAeH,CAjBM;AAkBP,OAAO,MAAMY,UAAU,GAAG,CAAC;AAACZ,EAAAA,QAAD;AAAU,KAAGC;AAAb,CAAD,KAAsB;AAC5C,MAAIC,KAAK,GAAGC,QAAQ,EAApB;AACA,MAAIC,IAAI,GAAIC,OAAO,EAAnB;AACA,MAAIC,IAAI,GAAIF,IAAI,KAAG,MAAP,GAAc,OAAd,GAAsB,QAAlC;AACA,sBACI,oBAAC,KAAD,oBACQH,IADR;AAEI,IAAA,MAAM,EACF,CAAC;AAACM,MAAAA;AAAD,KAAD,KAAc;AACV,aAAOL,KAAK,IAAKE,IAAI,KAAG,OAAjB,GAA4BJ,QAA5B,gBAAuC,oBAAC,QAAD;AAC1C,QAAA,EAAE,EAAG;AACDQ,UAAAA,QAAQ,EAACF,IADR;AAEDG,UAAAA,KAAK,EAAE;AAACC,YAAAA,IAAI,EAACH;AAAN;AAFN,SADqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA9C;AAMH,KAVT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADJ;AAeH,CAnBM;AAoBP,OAAO,MAAMJ,QAAQ,GAAG,MAAI;AACxB,SAAOU,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAgCD,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAhC,GAA+D,IAAtE;AACH,CAFM;AAIP,OAAO,MAAMT,OAAO,GAAG,MAAI;AACvB,SAAOQ,YAAY,CAACC,OAAb,CAAqB,MAArB,IAA+BD,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA/B,GAA4D,IAAnE;AACH,CAFM","sourcesContent":["import {Route,Redirect} from 'react-router-dom';\nimport React from 'react';\nexport const UserRoute = ({children,...rest})=> {\n    let token = getToken()\n    let role  = getRole();\n    let path  = role==='admin' ? '/admin':'/login'\n    return (\n        <Route \n        {...rest}\n        render = {\n            ({location})=>{\n                return token && (role==='user') ? children: <Redirect\n                to={{\n                  pathname: path,\n                  state: { from: location }\n                }}/>\n            }\n        }\n        />\n    )\n}\n\nexport const GuestRoute = ({children,...rest})=> {\n    let token = getToken();\n    return(\n        <Route \n            {...rest}\n            render = {\n                ({location})=>{\n                    return token ? <Redirect \n                        to = {{\n                            pathname:'/user/searchRride',\n                            state:{from:location}\n                        }}\n                    />: children\n                }\n            }\n        />\n    )\n}\nexport const AdminRoute = ({children,...rest})=>{\n    let token = getToken();\n    let role  = getRole();\n    let path  = role==='user'?'/user':'/login'\n    return(\n        <Route \n            {...rest}\n            render= {\n                ({location})=>{\n                    return token && (role==='admin') ? children : <Redirect \n                        to ={{\n                            pathname:path,\n                            state: {from:location}\n                        }}\n                    />\n                }\n            }\n        />\n    )\n}\nexport const getToken = ()=>{\n    return localStorage.getItem('token') ? localStorage.getItem('token'): null;\n}\n\nexport const getRole = ()=>{\n    return localStorage.getItem('role') ? localStorage.getItem('role'):null\n}"]},"metadata":{},"sourceType":"module"}