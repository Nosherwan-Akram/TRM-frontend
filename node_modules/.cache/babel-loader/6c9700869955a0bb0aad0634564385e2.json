{"ast":null,"code":"var _jsxFileName = \"/home/noshu/react/test1/src/components/signup/signup.js\";\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\"; // import signupBackground from \"../../../assets/backgrounds/signupBackground.svg\";\n\nimport SignupForm from \"./signupForm\"; // import { signupRequest } from \"../../../services/open/auth\";\n\nimport { Redirect, Link } from \"react-router-dom\";\n\nconst Signup = props => {\n  let [registerUser, userUpdater] = useState({\n    username: \"\",\n    password: \"\",\n    rePassword: \"\",\n    email: \"\"\n  });\n  let [registerFlag, flagChanger] = useState(false);\n  let [error, changeError] = useState(null);\n  useEffect(() => {\n    if (registerUser.username.length > 0) {\n      console.log(registerUser);\n      let body = registerUser;\n      delete body.rePassword;\n      fetch(\"http://localhost:5000/signup\", {\n        method: \"POST\",\n        body: JSON.stringify(body)\n      }).then(res => {\n        res.json().then(res => {\n          console.log(res);\n\n          if (res.status == 400) {\n            changeError(\"Username not available\");\n          } else {\n            console.log(\"Registered Successfully\");\n            flagChanger(true);\n          }\n        });\n      }).catch(err => {\n        changeError(\"Some Internal Error\");\n      });\n    }\n  }, [registerUser]);\n  return /*#__PURE__*/React.createElement(SignupContainer, {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row align-items-stretch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-6 col-md-8 col-12 bg-white border-right d-flex align-items-center justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-success text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"Signup\"), /*#__PURE__*/React.createElement(SignupForm, {\n    registerHandler: userUpdater,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }), error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 23\n    }\n  }, error), registerFlag && /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 30\n    }\n  })))));\n};\n\nexport default Signup;\nexport const SignupContainer = styled.div`\n  min-height: 100vh;\n  background-repeat: no-repeat;\n  background-position: right center;\n  background-size: auto 100%;\n  .row {\n    min-height: 100vh;\n  }\n  @media (max-width: 768px) {\n    padding-top: 60px;\n  }\n`;","map":{"version":3,"sources":["/home/noshu/react/test1/src/components/signup/signup.js"],"names":["React","useState","useEffect","styled","SignupForm","Redirect","Link","Signup","props","registerUser","userUpdater","username","password","rePassword","email","registerFlag","flagChanger","error","changeError","length","console","log","body","fetch","method","JSON","stringify","then","res","json","status","catch","err","SignupContainer","div"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB,C,CACA;;AACA,OAAOC,UAAP,MAAuB,cAAvB,C,CACA;;AACA,SAASC,QAAT,EAAmBC,IAAnB,QAA+B,kBAA/B;;AACA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AACxB,MAAI,CAACC,YAAD,EAAeC,WAAf,IAA8BT,QAAQ,CAAC;AACzCU,IAAAA,QAAQ,EAAE,EAD+B;AAEzCC,IAAAA,QAAQ,EAAE,EAF+B;AAGzCC,IAAAA,UAAU,EAAE,EAH6B;AAIzCC,IAAAA,KAAK,EAAE;AAJkC,GAAD,CAA1C;AAMA,MAAI,CAACC,YAAD,EAAeC,WAAf,IAA8Bf,QAAQ,CAAC,KAAD,CAA1C;AACA,MAAI,CAACgB,KAAD,EAAQC,WAAR,IAAuBjB,QAAQ,CAAC,IAAD,CAAnC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIO,YAAY,CAACE,QAAb,CAAsBQ,MAAtB,GAA+B,CAAnC,EAAsC;AACpCC,MAAAA,OAAO,CAACC,GAAR,CAAYZ,YAAZ;AACA,UAAIa,IAAI,GAAGb,YAAX;AACA,aAAOa,IAAI,CAACT,UAAZ;AACAU,MAAAA,KAAK,CAAC,8BAAD,EAAiC;AACpCC,QAAAA,MAAM,EAAE,MAD4B;AAEpCF,QAAAA,IAAI,EAAEG,IAAI,CAACC,SAAL,CAAeJ,IAAf;AAF8B,OAAjC,CAAL,CAIGK,IAJH,CAISC,GAAD,IAAS;AACbA,QAAAA,GAAG,CAACC,IAAJ,GAAWF,IAAX,CAAiBC,GAAD,IAAS;AACvBR,UAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;;AACA,cAAIA,GAAG,CAACE,MAAJ,IAAc,GAAlB,EAAuB;AACrBZ,YAAAA,WAAW,CAAC,wBAAD,CAAX;AACD,WAFD,MAEO;AACLE,YAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACAL,YAAAA,WAAW,CAAC,IAAD,CAAX;AACD;AACF,SARD;AASD,OAdH,EAeGe,KAfH,CAeUC,GAAD,IAAS;AACdd,QAAAA,WAAW,CAAC,qBAAD,CAAX;AACD,OAjBH;AAkBD;AACF,GAxBQ,EAwBN,CAACT,YAAD,CAxBM,CAAT;AAyBA,sBACE,oBAAC,eAAD;AAAiB,IAAA,SAAS,EAAC,iBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,iGAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,0BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,oBAAC,UAAD;AAAY,IAAA,eAAe,EAAEC,WAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGGO,KAAK,iBAAI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqCA,KAArC,CAHZ,EAIGF,YAAY,iBAAI,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJnB,CADF,CADF,CADF,CADF;AAcD,CAhDD;;AAkDA,eAAeR,MAAf;AAEA,OAAO,MAAM0B,eAAe,GAAG9B,MAAM,CAAC+B,GAAI;;;;;;;;;;;CAAnC","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\n// import signupBackground from \"../../../assets/backgrounds/signupBackground.svg\";\nimport SignupForm from \"./signupForm\";\n// import { signupRequest } from \"../../../services/open/auth\";\nimport { Redirect, Link } from \"react-router-dom\";\nconst Signup = (props) => {\n  let [registerUser, userUpdater] = useState({\n    username: \"\",\n    password: \"\",\n    rePassword: \"\",\n    email: \"\",\n  });\n  let [registerFlag, flagChanger] = useState(false);\n  let [error, changeError] = useState(null);\n  useEffect(() => {\n    if (registerUser.username.length > 0) {\n      console.log(registerUser);\n      let body = registerUser;\n      delete body.rePassword;\n      fetch(\"http://localhost:5000/signup\", {\n        method: \"POST\",\n        body: JSON.stringify(body),\n      })\n        .then((res) => {\n          res.json().then((res) => {\n            console.log(res);\n            if (res.status == 400) {\n              changeError(\"Username not available\");\n            } else {\n              console.log(\"Registered Successfully\");\n              flagChanger(true);\n            }\n          });\n        })\n        .catch((err) => {\n          changeError(\"Some Internal Error\");\n        });\n    }\n  }, [registerUser]);\n  return (\n    <SignupContainer className=\"container-fluid\">\n      <div className=\"row align-items-stretch\">\n        <div className=\"col-lg-6 col-md-8 col-12 bg-white border-right d-flex align-items-center justify-content-center\">\n          <div className=\"content\">\n            <h2 className=\"text-success text-center\">Signup</h2>\n            <SignupForm registerHandler={userUpdater} />\n            {error && <div className=\"alert alert-danger\">{error}</div>}\n            {registerFlag && <Redirect to=\"/login\" />}\n          </div>\n        </div>\n      </div>\n    </SignupContainer>\n  );\n};\n\nexport default Signup;\n\nexport const SignupContainer = styled.div`\n  min-height: 100vh;\n  background-repeat: no-repeat;\n  background-position: right center;\n  background-size: auto 100%;\n  .row {\n    min-height: 100vh;\n  }\n  @media (max-width: 768px) {\n    padding-top: 60px;\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}